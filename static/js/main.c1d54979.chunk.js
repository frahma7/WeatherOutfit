(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,a){e.exports=a(257)},135:function(e,t,a){},219:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(47),s=a.n(i),o=(a(135),a(21)),c=a(22),l=a(24),u=a(23),h=a(25),m=a(8),p=a(116),d=a.n(p).a.initializeApp({apiKey:"AIzaSyBOS1XSrW4rqVk2VIJxS_VK7P4pW-RU474",authDomain:"weatherwardrobe-3afc4.firebaseapp.com",databaseURL:"https://weatherwardrobe-3afc4.firebaseio.com",projectId:"weatherwardrobe-3afc4",storageBucket:"weatherwardrobe-3afc4.appspot.com",messagingSenderId:"566208856852"}),g=a(258),f=(r.a.Component,a(13)),b=a.n(f),v=a(34),y=(a(219),a(42)),w=a.n(y),E=a(265),O=a(261),j=a(259),k=a(118),x=a(264),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={clothing:{},gender:"Male",city:void 0,country:void 0,temperature:void 0,humidity:void 0,description:void 0,error:void 0},a.setMale=function(){var e=Object(v.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({gender:"Male"}),console.log(a.state.gender);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.setFemale=function(){var e=Object(v.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({gender:"Female"}),console.log(a.state.gender);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.logout=a.logout.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){d.auth().signOut()}},{key:"getAllData",value:function(){var e=Object(v.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.getWeather(t);case 3:return e.next=5,this.getClothing(t);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getWeather",value:function(){var e=Object(v.a)(b.a.mark(function e(t){var a,n,r,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements.city.value,n=t.target.elements.country.value,e.next=5,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(a,",").concat(n,"&appid=").concat("5ec90a252ff61a72d9f2944a402d7f8a","&units=metric"));case 5:return r=e.sent,e.next=8,r.json();case 8:i=e.sent,console.log(i),a&&n&&i.name?this.setState({temperature:1.8*i.main.temp+32,city:i.name,country:i.sys.country,humidity:i.main.humidity,description:i.weather[0].description,error:""}):this.setState({temperature:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,error:"Please enter a valid city and country."});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getClothing",value:function(){var e=Object(v.a)(b.a.mark(function e(t){var a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=[],n="Male"==this.state.gender?'http://localhost:3001/api/get?where={ "$and" : [ {"article" : "Top"}, {"minTemp": {"$lte": '.concat(this.state.temperature,'} }, {"maxTemp": {"$gte": ').concat(this.state.temperature,'} } , {"gender" :  "Male" }   ] }'):'http://localhost:3001/api/get?where={ "$and" : [ {"article" : "Top"}, {"minTemp": {"$lte": '.concat(this.state.temperature,'} }, {"maxTemp": {"$gte": ').concat(this.state.temperature,'} } , {"gender" :  "Female" }  ] }'),e.next=5,w.a.get(n).then(function(e){a.push(e.data.data[0])}).catch(function(e){console.log(e)});case 5:return n="Male"==this.state.gender?'http://localhost:3001/api/get?where={ "$and" : [ {"article" : "Bottom"}, {"minTemp": {"$lte": '.concat(this.state.temperature,'} }, {"maxTemp": {"$gte": ').concat(this.state.temperature,'} } , {"gender" :  "Male" }   ] }'):'http://localhost:3001/api/get?where={ "$and" : [ {"article" : "Bottom"}, {"minTemp": {"$lte": '.concat(this.state.temperature,'} }, {"maxTemp": {"$gte": ').concat(this.state.temperature,'} } , {"gender" :  "Female" }  ] }'),e.next=8,w.a.get(n).then(function(e){a.push(e.data.data[0])}).catch(function(e){console.log(e)});case 8:return n="Male"==this.state.gender?'http://localhost:3001/api/get?where={ "$and" : [ {"article" : "Shoes"}, {"minTemp": {"$lte": '.concat(this.state.temperature,'} }, {"maxTemp": {"$gte": ').concat(this.state.temperature,'} } , {"gender" :  "Male" }   ] }'):'http://localhost:3001/api/get?where={ "$and" : [ {"article" : "Shoes"}, {"minTemp": {"$lte": '.concat(this.state.temperature,'} }, {"maxTemp": {"$gte": ').concat(this.state.temperature,'} } , {"gender" :  "Female" }  ] }'),e.next=11,w.a.get(n).then(function(e){a.push(e.data.data[0])}).catch(function(e){console.log(e)});case 11:return e.next=13,this.setState({clothing:a});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[],t=this.state.clothing;console.log("clothes"),console.log(t);for(var a=0;a<this.state.clothing.length;a++){var n=t[a].reference;console.log(n),e.push(r.a.createElement(E.a,{style:{width:"18rem"}},r.a.createElement(E.a.Img,{variant:"bottom",src:n}),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,null,t[a].article),r.a.createElement(E.a.Subtitle,null,t[a].name))))}return r.a.createElement("div",null,r.a.createElement(g.a,{variant:"danger",style:{position:"absolute",top:"5%",left:"90%",transform:"translate(-50%, -10%)"},onClick:this.logout}," logout "),r.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement("h1",null," Weather Wardrobe "),r.a.createElement(O.a,{onSubmit:this.getAllData.bind(this)},r.a.createElement(j.a,{className:"mb-3"},r.a.createElement(j.a.Prepend,null,r.a.createElement(j.a.Text,{id:"basic-addon1"},"City")),r.a.createElement(k.a,{name:"city",placeholder:"City","aria-label":"City","aria-describedby":"basic-addon1"})),r.a.createElement(j.a,{className:"mb-3"},r.a.createElement(j.a.Prepend,null,r.a.createElement(j.a.Text,{id:"basic-addon1"},"Country or State")),r.a.createElement(k.a,{name:"country",placeholder:"Country","aria-label":"Country","aria-describedby":"basic-addon1"})),r.a.createElement(g.a,{type:"submit",onClick:this.setMale}," Male "),r.a.createElement(g.a,{type:"submit",onClick:this.setFemale}," Female "),r.a.createElement(g.a,{style:{width:"45%",display:"absolute",left:"50%",transform:"translate(60%, -10%)"},type:"submit"}," Create Outfit ")),r.a.createElement("br",null),this.state&&r.a.createElement(E.a,{style:{border:"hidden"}},r.a.createElement(E.a.Body,null,this.state.city&&this.state.country&&r.a.createElement(E.a.Title,null," ",this.state.city,", ",this.state.country),r.a.createElement(E.a.Text,null,this.state.temperature&&r.a.createElement("p",null," Temperature: ",Math.round(this.state.temperature)," \u2109 "),this.state.humidity&&r.a.createElement("p",null," Humidity: ",this.state.humidity," "),this.state.description&&r.a.createElement("p",null," Description: ",this.state.description," "),this.state.error&&r.a.createElement(x.a,{variant:"danger"}," Error: ",this.state.error," "),this.state.temperature&&this.state.temperature>75&&r.a.createElement("h3",null,"Wear something comfortable! It's ",Math.round(this.state.temperature)," \u2109"),this.state.temperature&&this.state.temperature>=50&&this.state.temperature<=75&&r.a.createElement("h3",null," Wear something that keeps you warm! It's ",Math.round(this.state.temperature)," \u2109 "),this.state.temperature&&this.state.temperature<50&&r.a.createElement("h3",null," Stay Warm! It's ",Math.round(this.state.temperature)," \u2109 "))))),r.a.createElement("div",null,e))}}]),t}(r.a.Component),S=a(119),T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).login=a.login.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.signup=a.signup.bind(Object(m.a)(Object(m.a)(a))),a.state={email:"",password:""},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e){e.preventDefault(),d.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then(function(e){console.log(e)}).catch(function(e){alert(e)})}},{key:"signup",value:function(e){e.preventDefault(),d.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).catch(function(e){alert(e)})}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement(O.a,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement("h1",null,"Welcome to Weather Wardrobe!"),r.a.createElement("h2",{style:{textAlign:"center"}},"Sign Up or Log In"),r.a.createElement(O.a.Group,{controlId:"email"},r.a.createElement(O.a.Label,null,"Email address"),r.a.createElement(O.a.Control,{value:this.state.email,onChange:this.handleChange,type:"email",name:"email",placeholder:"Enter email"}),r.a.createElement(O.a.Text,{className:"text-muted"},"We'll always share your email with everyone else.")),r.a.createElement(O.a.Group,{controlId:"password"},r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{defaultValue:this.state.password,onChange:this.handleChange,type:"password",name:"password",placeholder:"Password"})),r.a.createElement(g.a,{onClick:this.login,style:{width:"45%",marginLeft:"10px"},variant:"primary",type:"submit"}," Login "),r.a.createElement(g.a,{onClick:this.signup,style:{width:"45%",marginLeft:"5px"},variant:"success",type:"submit"}," Sign Up "))}}]),t}(r.a.Component),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={stuff:[]},a.getUser=a.getUser.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getUser",value:function(){d.getInstance.currentUser(this.state.user)}},{key:"getData",value:function(){var e=Object(v.a)(b.a.mark(function e(t){var a=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"http://localhost:3001/api/get",e.next=4,w.a.get("http://localhost:3001/api/get").then(function(e){console.log(e),a.setState({stuff:e.data.data})}).catch(function(e){console.log(e)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.state.stuff;return r.a.createElement("div",null,r.a.createElement("ul",null),r.a.createElement(C,null))}}]),t}(n.Component),W=(a(260),a(120));a(40),a(263),a(262);function M(){var e=Object(W.a)(["\n  .navbar {\n    background-color: #222;\n  }\n  a, .navbar-brand, .navbar-nav .nav-link {\n    color: #bbb;\n    &:hover {\n      color: white;\n    }\n  }\n"]);return M=function(){return e},e}a(121).a.div(M());var D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={user:{}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;d.auth().onAuthStateChanged(function(t){t?e.setState({user:t}):e.setState({user:null})})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.user?r.a.createElement($,null):r.a.createElement(T,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[130,1,2]]]);
//# sourceMappingURL=main.c1d54979.chunk.js.map